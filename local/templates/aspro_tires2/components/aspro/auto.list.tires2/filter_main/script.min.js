$(document).ready(function(){$(document).on("change","select.cars-list",function(){var r=$(this).closest(".car_list_wrap");$.ajax({url:arTires2Options.SITE_DIR+"ajax/car_list.php",type:"POST",data:{template:"filter_main",type_filter:r.find('input[name="type_filter"]').val(),car:r.find("select.car").val(),model:r.find("select.model").val(),year:r.find("select.year").val(),modification:r.find("select.modification").val(),VYLET_DISKA_TYPE:obConfigTyreIndex.et_type,VYLET_DISKA_RANGE_MIN:obConfigTyreIndex.et_range0,VYLET_DISKA_RANGE_MAX:obConfigTyreIndex.et_range1,DIAMETR_STUPITSY_TYPE:obConfigTyreIndex.dia_type,DIAMETR_STUPITSY_RANGE_MIN:obConfigTyreIndex.dia_range0,DIAMETR_STUPITSY_RANGE_MAX:obConfigTyreIndex.dia_range1}}).done(function(e){BX(r[0]).innerHTML=e;var t=r.find(".filter_result").html(),a=r.find('input[name="type_filter"]').val();$("#filter_result").length&&$("#filter_result").removeClass("loadings bg"),"tires"==a?$("#filter_result .tyres_result").html(t):"wheels"==a&&$("#filter_result .wheels_result").html(t),$(".car_list_wrap .filter_result").length&&$("#filter_result").addClass("showen"),$(".filter_result").length||$("#filter_result").removeClass("showen"),$(".front_filter_wrap").each(function(){var e=$(this).find('input[name="type_filter"]').val();$(this).find(".filter_result").length||("tires"==e?$("#filter_result .tyres_result").html(""):"wheels"==e&&$("#filter_result .wheels_result").html(""))}),initSelects(document)})}),$(document).on("change",".filter_result input.cars-list",function(){var e=$(this);setTimeout(function(){e.closest(".front_filter_wrap").find(".tyres_params").closest("form").find("input[type=submit]").click()},100),$("#filter_result").length&&$("#filter_result").addClass("loadings bg")});var x=$("input[data-id=filter_name]").val(),y=$(".bx_filter_parameters_box[data-tyreindex=twidth]").data("property_id"),h=$(".bx_filter_parameters_box[data-tyreindex=theight]").data("property_id"),b=$(".bx_filter_parameters_box[data-tyreindex=tdia]").data("property_id"),u=$(".bx_filter_parameters_box[data-tyreindex=ddia]").data("property_id"),c=$(".bx_filter_parameters_box[data-tyreindex=dmbr]").data("property_id"),m=$(".bx_filter_parameters_box[data-tyreindex=dco]").data("property_id"),g=$(".bx_filter_parameters_box[data-tyreindex=dvd]").data("property_id"),v=$(".bx_filter_parameters_box[data-tyreindex=dds]").data("property_id"),k=$(".bx_filter_parameters_box[data-tyreindex=alen]").data("property_id"),w=$(".bx_filter_parameters_box[data-tyreindex=awidth]").data("property_id"),T=$(".bx_filter_parameters_box[data-tyreindex=aheight]").data("property_id"),C=$(".bx_filter_parameters_box[data-tyreindex=atype]").data("property_id"),I=$(".bx_filter_parameters_box[data-tyreindex=apolarity]").data("property_id"),F=$(".bx_filter_parameters_box[data-tyreindex=acapacity]").data("property_id"),D=$(".bx_filter_parameters_box[data-tyreindex=avolume]").data("property_id"),A=$(".bx_filter_parameters_box[data-tyreindex=dwidth]").data("property_id");$(document).on("change",'input[type="radio"].cars-list',function(){var e=filter_height=filter_dia=filter_dwidth=filter_dco=filter_dmbr=filter_apolarity=filter_atype=filter_dds=filter_ddia="",t=[],a=$(this),r=[];if(a.parent().hasClass("tires")&&(e=x+"_"+y+"_"+$(this).attr("data-w"),filter_height=x+"_"+h+"_"+$(this).attr("data-h"),filter_dia=x+"_"+b+"_"+$(this).attr("data-d")),a.parent().hasClass("wheels")&&(filter_dwidth=x+"_"+A+"_"+$(this).attr("data-w"),filter_dco=x+"_"+m+"_"+$(this).attr("data-lz"),filter_dmbr=x+"_"+c+"_"+$(this).attr("data-pcd"),filter_dds=x+"_"+v+"_"+1*$(this).attr("data-dia"),filter_ddia=x+"_"+u+"_"+$(this).attr("data-d")),a.parent().hasClass("akb")&&(filter_apolarity=x+"_"+I+"_"+$(this).attr("data-apolarity"),filter_atype=x+"_"+C+"_"+$(this).attr("data-atype")),y&&e&&t.push({key:y,tyreindex:"twidth",id:e}),h&&filter_height&&t.push({key:h,tyreindex:"theight",id:filter_height}),b&&filter_dia&&t.push({key:b,tyreindex:"tdia",id:filter_dia}),u&&filter_ddia&&t.push({key:u,tyreindex:"ddia",id:filter_ddia}),A&&filter_dwidth&&t.push({key:A,tyreindex:"dwidth",id:filter_dwidth}),m&&filter_dco&&t.push({key:m,tyreindex:"dco",id:filter_dco}),c&&filter_dmbr&&t.push({key:c,tyreindex:"dmbr",id:filter_dmbr}),I&&filter_apolarity&&t.push({key:I,tyreindex:"apolarity",id:filter_apolarity}),C&&filter_atype&&t.push({key:C,tyreindex:"atype",id:filter_atype}),t)for(var i in t)$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] input").removeAttr("checked"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] input[id="+t[i].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] input[data-ti_id="+t[i].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_select_popup").length&&($(".bx_filter_select_popup label[for="+t[i].id+"]").length?($("#smartFilterDropDown"+t[i].key).length&&$("#smartFilterDropDown"+t[i].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_select_popup label[for="+t[i].id+"]").addClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_select_popup label[for="+t[i].id+"]").text())):$("#smartFilterDropDown"+t[i].key).length?($("#smartFilterDropDown"+t[i].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_text").text($("#smartFilterDropDown"+t[i].key+" ul li:first label").text())):($(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_parameters_box[data-tyreindex="+t[i].tyreindex+"] .bx_filter_select_popup ul li:first label").text())));if(v&&r.push({key:v,value:"data-dia",range0:obConfigTyreIndex.dia_range0,range1:obConfigTyreIndex.dia_range1}),g&&r.push({key:g,value:"data-et",range0:obConfigTyreIndex.et_range0,range1:obConfigTyreIndex.et_range1}),k&&r.push({key:k,value1:"data-alen_from",value2:"data-alen_to"}),w&&r.push({key:w,value1:"data-awidth_from",value2:"data-awidth_to"}),T&&r.push({key:T,value1:"data-aheight_from",value2:"data-aheight_to"}),F&&r.push({key:F,value1:"data-acapacity_from",value2:"data-acapacity_to"}),D&&r.push({key:D,value1:"data-avolume_from",value2:"data-avolume_to"}),r)for(var i in r){if("value1"in r[i]&&"value2"in r[i])var d=parseFloat($(this).attr(r[i].value1)),l=parseFloat($(this).attr(r[i].value2)),_=$(".bx_filter_parameters_box[data-property_id="+r[i].key+"]"),s=parseFloat(_.find(".min-price").attr("placeholder"))<=d?d:"",n=l<=parseFloat(_.find(".max-price").attr("placeholder"))?l:"";else{var o=parseFloat($(this).attr(r[i].value)),p=parseFloat(r[i].range0),f=parseFloat(r[i].range1);_=$(".bx_filter_parameters_box[data-property_id="+r[i].key+"]"),s=parseFloat(_.find(".min-price").attr("placeholder"))<=o-p?o-p:"",n=o+f<=parseFloat(_.find(".max-price").attr("placeholder"))?o+f:""}_.find(".min-price").length&&_.find(".min-price").val(s.toString().length?parseFloat(s.toFixed(1)):""),_.find(".max-price").length&&_.find(".max-price").val(n.toString().length?parseFloat(n.toFixed(1)):""),window["trackBar"+r[i].key],window["trackBar"+r[i].key].onInputChange()}})});