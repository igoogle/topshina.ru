@import '../../../../resources/sass/variables';
@import 'bootstrap/scss/functions';
@import 'bootstrap/scss/variables';
@import 'bootstrap/scss/mixins';
@import '../../../../resources/sass/snippets/all';

.bx-filter {
	width: 100%;

	.fancybox-content & {
		background: $body-bg;
	}

	&-section {
		position: relative;
		// padding-top: $line-height-computed;

		& > .row {
			padding: 0 5px;
		}
	}

	&-container {

		&-modef {

			display: none;

		@include media-breakpoint-up(sm) {
				display: block;
			}
		}
	}

	&-parameters-box {
		position: relative;
		margin-bottom: map-get($spacers, 1);

		&-title {
			background-color: $white;
			cursor: pointer;
			display: block;
			position: relative;
			word-break: break-word;
		}

		&-angle {
			background-color: $white;
			position: absolute;
			font-weight: $font-weight-bold;
			display: inline-block;
			margin: auto;
			right: 0;
			top: 0;
		}

		&-title,
		&-angle {
			padding: #{map-get($spacers, 3) + map-get($spacers, 2)} map-get($spacers, 4);
		}
	}

	&-block {
		@extend %clearfix;

		background-color: theme-color('light');
		box-sizing: content-box;
		display: none;
		transition: padding .3s ease;

		.bmd-radio,
		.bmd-custom-checkbox > label .checkbox-decorator {
			// box-sizing: content-box;
			// text-align: center;
			// width: calc(1.75rem + 2px);
			left: .25rem; // centered with color-icon
		}

		.bmd-custom-radio > label,
		.bmd-custom-checkbox > label {
			padding-left: 40px;
		}
	}



	&-button-box &-block,
	&-parameters-box.bx-active &-block {
		display: block;
	}

	&-parameters-box-container {
		padding: map-get($spacers, 4);

		.checkbox:first-child {
			// margin-top: 0;
		}

		&-block {
			& + & {
				&:before {
					background-color: $extra;
					bottom: 0;
					content: '';
					display: inline-block;
					height: 1px;
					left: -7px;
					margin: auto;
					position: absolute;
					top: 0;
					width: 13px;
				}
			}
		}
	}

	&-button-box &-block {
		// border: 1px solid $border-color;
	}
	&-button-box &-parameters-box-container {
		// padding-bottom: map-get($spacers, 5);
		// padding-top: map-get($spacers, 5);
		// text-align: center;
	}


	&-scroll{
		//max-height: $line-height-computed*1.5*7;
		max-height: 167px;
		overflow: auto;
		padding-top: 1px;

		.scroll-element {
			background: #f7f7f8;
		}
	}

	/*
	*Track
	*
	*/

	.bx-ui-slider-track-container {
		padding-bottom: 15px;
		padding-top: 28px;
	}

	.bx-ui-slider-track {
		position: relative;
		height: 3px;
		background: #d7dbdd;
	}
	.bx-ui-slider-part {
		display: none;
		position: absolute;
		top: -6px;
		width: 1px;
		height: 17px;
		background: #a2bfc7;
	}
	.bx-ui-slider-part.p1 {
		left: -1px;
	}
	.bx-ui-slider-part.p2 {
		left: 25%;
	}
	.bx-ui-slider-part.p3 {
		left: 50%;
	}
	.bx-ui-slider-part.p4 {
		left: 75%;
	}
	.bx-ui-slider-part.p5 {
		right: -1px;
	}
	.bx-ui-slider-part span {
		font-size: $small-font-size;
		/*font-weight: bold;*/

		position: absolute;
		top: -16px;
		left: 50%;
		display: block;
		width: 100px;
		margin-left: -50px;
		text-align: center;
		color: #000;
	}
	.bx-ui-slider-part.p2 span,
	.bx-ui-slider-part.p3 span,
	.bx-ui-slider-part.p4 span {
		color: #6b8086;
	}
	.bx-ui-slider-range,
	.bx-ui-slider-pricebar,
	.bx-ui-slider-pricebar-vd,
	.bx-ui-slider-pricebar-vn,
	.bx-ui-slider-pricebar-v {
		position: absolute;
		top: 0;
		bottom: 0;
		min-width: 1px;
	}
	.bx-ui-slider-range {
		z-index: 90;
	}
	.bx-ui-slider-pricebar {
		z-index: 100;
	}
	.bx-ui-slider-pricebar-vd {
		z-index: 60;
		background: #b1b1b1;
	}
	.bx-ui-slider-pricebar-vn {
		z-index: 70;
		background: #f2f2f2;
	}
	.bx-ui-slider-pricebar-v {
		z-index: 80;
		background: theme-color('primary');
	}
	.bx-ui-slider-handle {
		border-radius: 50%;
		background-color: theme-color('primary');
		height: 21px;
		position: absolute;
		top: -9px;
		transform: scale(.571);
		transition: transform .1s ease-out;
		width: 21px;
	}

	.bx-ui-slider-handle:hover {
		cursor: grab;
	}

	.bx-ui-slider-handle.active {
		transform: scale(1);
	}

	.bx-ui-slider-handle:active {
		cursor: grabbing;
	}
	.bx-ui-slider-handle.left {
		left: 0;
		margin-left: -1*map-get($spacers, 3);
	}
	.bx-ui-slider-handle.right {
		right: 0;
		margin-right: -1*map-get($spacers, 3);
	}

	&-input-container {

		.form-control {
			height: 100%;
			-moz-appearance: textfield;

			&::-webkit-outer-spin-button,
			&::-webkit-inner-spin-button {
				/* display: none; <- Crashes Chrome on hover */
				-webkit-appearance: none;
				margin: 0; /* <-- Apparently some margin are still there even though it's hidden */
			}
		}
	}

	&-input-checkbox,
	&-param-label {
		padding-top: map-get($spacers, 4);
	}

	&-input-checkbox:first-of-type {
		padding-top: map-get($spacers, 3);
	}
	&-param-label:first-of-type {
		padding-top: 0;
	}


	/*
	*	LABEL
	*
	*/
	&-param-label {
		cursor: pointer;
		display: block;
		font-weight: normal;
		margin: 0;
	}

	.dropdown-item &-param-label,
	&-input-checkbox &-param-label {
		//margin-bottom: map-get($spacers, 3);
		padding-top: 0;
	}

	&-param-btn-inline &-param-label {
		float: left;
		margin: 0 map-get($spacers, 2) map-get($spacers, 2) 0;
		padding: 0;
	}

	&-param-label.disabled,
	&-param-label.disabled &-param-text {
		color: $gray-500;
		cursor: inherit;
	}

	/*
	*	 BTN
	*
	*/

	&-param-label {
		@extend %color-item;
	}

	&-param-btn {

		&.bx-color-sl {
			@extend %color-item__btn;

			margin-left: -2px; // color-item borders
		}
	}
	
	&-param-label.disabled {
		pointer-events: none;
	}

	&-param-label.disabled > &-param-btn.bx-color-sl {
		border-color: transparent;
		cursor: inherit;
	}

	&-btn-color-icon {
		@extend %color-item__icon;

		display: inline-block;

		&.all {
			position: relative;
			border: none;
			box-shadow: none;
			fill: transparent;
			font-size: 1.5rem; // %color-item size - borders;
			stroke: currentColor;
		}

//		&.all:after,
//		&.all:before {
//			position: absolute;
//			width: 60%;
//			height: 60%;
//			background: #fff;
//			content: " ";
//			box-shadow: inset 0 0 0 1px rgba(0, 0, 0, .2);
//		}
//		&.all:after {
//			right: 0;
//			bottom: 0;
//		}
//		&.all:before {
//			top: 0;
//			left: 0;
//		}
	}

	&-param-btn + &-param-text,
	&-btn-color-icon + &-param-text {
		margin-left: map-get($spacers, 2);
		vertical-align: middle;
	}

	&-select-container &-btn-color-icon {
		// height: map-get($spacers, 4);
		// width: map-get($spacers, 4);
		// margin: -1*map-get($spacers, 2) auto;
	}

	.dropdown-item {
		// padding: $btn-padding-y $btn-padding-x;
	}


	/*
	*	 Result Popup
	*
	*/
	&-popup-result {
		$popup-inner: map-get($spacers, 2) * 2 + $font-size-base * $line-height-base;
		$popup-border-size: 2px;
		$popup-corner-size: 1.5rem;

		@include button-size($btn-padding-y, 1.75rem, $font-size-base, $btn-line-height, 0);

		background: $price-economy-bg;
		box-shadow: $block-shadow-hover;
		display: none;
		margin: map-get($spacers, 3) auto;
		position: absolute;
		white-space: nowrap;
		z-index: 915;

		& > a {
			margin-left: map-get($spacers, 5);
		}

//		&:before,
//		&:after {
//			content: '';
//			display: block;
//			position: absolute;
//		}

		&.right {
			left: 93%;
//		margin-left: $popup-corner-size;

//		&:before {
//			border-style: solid;
//			border-color: transparent theme-color('primary') transparent transparent;
//			border-width: calc(#{$popup-inner/2} + #{$popup-border-size}) $popup-corner-size calc(#{$popup-inner/2} + #{$popup-border-size}) 0;
//			margin-left: -1*$popup-border-size;
//			left: -1*($popup-corner-size);
//			top: -1*$popup-border-size;
//		}

//		&:after{
//			border-style: solid;
//			border-color: transparent theme-color('light') transparent transparent;
//			border-width: $popup-inner/2 $popup-corner-size $popup-inner/2 0;
//			left: -1*$popup-corner-size;
//			top: 0;
//		}
		}

		&.left {
			right: 93%;
//		margin-right: $popup-corner-size;

//		&:before{
//			border-left: 25px solid theme-color('primary');
//			border-top: 27px solid transparent;
//			border-bottom: 27px solid transparent;
//			right: -27px;
//			top: -2px;
//		}

//		&:after{
//			border-left: 24px solid $body-bg;
//			border-top: 25px solid transparent;
//			border-bottom: 25px solid transparent;
//			right: -24px;
//			top: 0;
//		}
		}

		@include media-breakpoint-down(xs) {
			.bx-touch & {
				position: fixed !important;
				z-index: 1001;
				top: auto !important;
				right: 0 !important;
				bottom: 0 !important;
				left: 0 !important;
				margin-top: 0;
				margin-left: 0;
				width: auto;
				height: auto;
				padding: 10px;
				border-radius: 2px;
				border: 1px solid #c6dae7;
				background: rgba(255, 255, 255, .9);
			}
		}
	}
}

/*Sections*/
@include media-breakpoint-up(md) {
	.bx-filter .bx-filter-section .col-md-4:nth-child(3n+1) {
		clear: both;
	}
}
