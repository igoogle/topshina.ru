$(document).ready(function(){$(document).on("change","select.cars-list",function(){var r=$(this).closest(".car_list_wrap");$.ajax({url:arTires2Options.SITE_DIR+"ajax/car_list.php",type:"POST",data:{template:obConfigTyreIndex.template,type_filter:r.find('input[name="type_filter"]').val(),car:r.find("select.car").val(),model:r.find("select.model").val(),year:r.find("select.year").val(),modification:r.find("select.modification").val(),VYLET_DISKA_TYPE:obConfigTyreIndex.et_type,VYLET_DISKA_RANGE_MIN:obConfigTyreIndex.et_range0,VYLET_DISKA_RANGE_MAX:obConfigTyreIndex.et_range1,DIAMETR_STUPITSY_TYPE:obConfigTyreIndex.dia_type,DIAMETR_STUPITSY_RANGE_MIN:obConfigTyreIndex.dia_range0,DIAMETR_STUPITSY_RANGE_MAX:obConfigTyreIndex.dia_range1}}).done(function(e){BX(r[0]).innerHTML=e;var t=r.find(".filter_result").html(),a=r.find('input[name="type_filter"]').val();$("#filter_result").length&&$("#filter_result").removeClass("loadings bg"),"tires"==a?$("#filter_result .tyres_result").html(t):"wheels"==a?$("#filter_result .wheels_result").html(t):"akb"==a&&$("#filter_result .akb_result").html(t),$(".car_list_wrap .filter_result").length&&$("#filter_result").addClass("showen"),$(".filter_result").length||$("#filter_result").removeClass("showen"),initSelects(document)})}),$(document).on("change",".filter_result input.cars-list",function(){var e=$(this);setTimeout(function(){e.closest(".front_filter_wrap").find(".tyres_params").closest("form").find("input[type=submit]").click()},100),$("#filter_result").length&&$("#filter_result").addClass("loadings bg")});var g=$("input[data-id=filter_name]").val(),v=$(".bx_filter_parameters_box[data-tyreindex=twidth]").data("property_id"),k=$(".bx_filter_parameters_box[data-tyreindex=theight]").data("property_id"),T=$(".bx_filter_parameters_box[data-tyreindex=tdia]").data("property_id"),w=$(".bx_filter_parameters_box[data-tyreindex=ddia]").data("property_id"),I=$(".bx_filter_parameters_box[data-tyreindex=dmbr]").data("property_id"),C=$(".bx_filter_parameters_box[data-tyreindex=dco]").data("property_id"),F=$(".bx_filter_parameters_box[data-tyreindex=dvd]").data("property_id"),D=$(".bx_filter_parameters_box[data-tyreindex=dds]").data("property_id"),A=$(".bx_filter_parameters_box[data-tyreindex=alen]").data("property_id"),S=$(".bx_filter_parameters_box[data-tyreindex=awidth]").data("property_id"),E=$(".bx_filter_parameters_box[data-tyreindex=aheight]").data("property_id"),M=$(".bx_filter_parameters_box[data-tyreindex=atype]").data("property_id"),R=$(".bx_filter_parameters_box[data-tyreindex=apolarity]").data("property_id"),Y=$(".bx_filter_parameters_box[data-tyreindex=acapacity]").data("property_id"),N=$(".bx_filter_parameters_box[data-tyreindex=avolume]").data("property_id"),P=$(".bx_filter_parameters_box[data-tyreindex=dwidth]").data("property_id");$(document).on("change",'input[type="radio"].cars-list',function(){var e=g+"_"+v+"_"+$(this).attr("data-w"),t=g+"_"+k+"_"+$(this).attr("data-h"),a=g+"_"+T+"_"+$(this).attr("data-d"),r=g+"_"+P+"_"+$(this).attr("data-w"),i=g+"_"+C+"_"+$(this).attr("data-lz"),d=g+"_"+I+"_"+$(this).attr("data-pcd"),l=g+"_"+R+"_"+$(this).attr("data-apolarity"),_=g+"_"+M+"_"+$(this).attr("data-atype"),n=($(this).attr("data-dia"),g+"_"+w+"_"+$(this).attr("data-d")),o=[],s=[];if(v&&o.push({key:v,tyreindex:"twidth",id:e}),k&&o.push({key:k,tyreindex:"theight",id:t}),T&&o.push({key:T,tyreindex:"tdia",id:a}),w&&o.push({key:w,tyreindex:"ddia",id:n}),P&&o.push({key:P,tyreindex:"dwidth",id:r}),C&&o.push({key:C,tyreindex:"dco",id:i}),I&&o.push({key:I,tyreindex:"dmbr",id:d}),R&&o.push({key:R,tyreindex:"apolarity",id:l}),M&&o.push({key:M,tyreindex:"atype",id:_}),o)for(var p in o)$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] input").removeAttr("checked"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] input[id="+o[p].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] input[data-ti_id="+o[p].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_select_popup").length&&($(".bx_filter_select_popup label[for="+o[p].id+"]").length?($("#smartFilterDropDown"+o[p].key).length&&$("#smartFilterDropDown"+o[p].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_select_popup label[for="+o[p].id+"]").addClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_select_popup label[for="+o[p].id+"]").text())):$("#smartFilterDropDown"+o[p].key).length?($("#smartFilterDropDown"+o[p].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_text").text($("#smartFilterDropDown"+o[p].key+" ul li:first label").text())):($(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_parameters_box[data-tyreindex="+o[p].tyreindex+"] .bx_filter_select_popup ul li:first label").text())));if(D&&s.push({key:D,value:"data-dia",range0:obConfigTyreIndex.dia_range0,range1:obConfigTyreIndex.dia_range1}),F&&s.push({key:F,value:"data-et",range0:obConfigTyreIndex.et_range0,range1:obConfigTyreIndex.et_range1}),A&&s.push({key:A,value1:"data-alen_from",value2:"data-alen_to"}),S&&s.push({key:S,value1:"data-awidth_from",value2:"data-awidth_to"}),E&&s.push({key:E,value1:"data-aheight_from",value2:"data-aheight_to"}),Y&&s.push({key:Y,value1:"data-acapacity_from",value2:"data-acapacity_to"}),N&&s.push({key:N,value1:"data-avolume_from",value2:"data-avolume_to"}),s)for(var p in s){if("value1"in s[p]&&"value2"in s[p])var x=parseFloat($(this).attr(s[p].value1)),y=parseFloat($(this).attr(s[p].value2)),f=$(".bx_filter_parameters_box[data-property_id="+s[p].key+"]"),b=parseFloat(f.find(".min-price").attr("placeholder"))<=x?x:"",u=y<=parseFloat(f.find(".max-price").attr("placeholder"))?y:"";else{var c=parseFloat($(this).attr(s[p].value)),h=parseFloat(s[p].range0),m=parseFloat(s[p].range1);f=$(".bx_filter_parameters_box[data-property_id="+s[p].key+"]"),b=parseFloat(f.find(".min-price").attr("placeholder"))<=c-h?c-h:"",u=c+m<=parseFloat(f.find(".max-price").attr("placeholder"))?c+m:""}f.find(".min-price").length&&f.find(".min-price").val(b.toString().length?parseFloat(b.toFixed(1)):""),f.find(".max-price").length&&f.find(".max-price").val(u.toString().length?parseFloat(u.toFixed(1)):""),window["trackBar"+s[p].key],window["trackBar"+s[p].key].onInputChange()}})});