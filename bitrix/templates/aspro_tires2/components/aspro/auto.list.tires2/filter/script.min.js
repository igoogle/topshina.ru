$(document).ready(function(){$(document).on("change","select.cars-list",function(){var t=$(this).closest(".car_list_wrap");$.ajax({url:arTires2Options.SITE_DIR+"ajax/car_list.php",type:"POST",data:{template:"filter",type_filter:t.find('input[name="type_filter"]').val(),car:t.find("select.car").val(),model:t.find("select.model").val(),year:t.find("select.year").val(),modification:t.find("select.modification").val(),VYLET_DISKA_TYPE:obConfigTyreIndex.et_type,VYLET_DISKA_RANGE_MIN:obConfigTyreIndex.et_range0,VYLET_DISKA_RANGE_MAX:obConfigTyreIndex.et_range1,DIAMETR_STUPITSY_TYPE:obConfigTyreIndex.dia_type,DIAMETR_STUPITSY_RANGE_MIN:obConfigTyreIndex.dia_range0,DIAMETR_STUPITSY_RANGE_MAX:obConfigTyreIndex.dia_range1}}).done(function(e){BX(t[0]).innerHTML=e,initSelects(document)})});var v=$("input#filter_name").val(),g=$(".bx_filter_parameters_box[data-tyreindex=twidth]").data("property_id"),k=$(".bx_filter_parameters_box[data-tyreindex=theight]").data("property_id"),T=$(".bx_filter_parameters_box[data-tyreindex=tdia]").data("property_id"),I=$(".bx_filter_parameters_box[data-tyreindex=ddia]").data("property_id"),F=$(".bx_filter_parameters_box[data-tyreindex=dmbr]").data("property_id"),w=$(".bx_filter_parameters_box[data-tyreindex=dco]").data("property_id"),C=$(".bx_filter_parameters_box[data-tyreindex=dvd]").data("property_id"),D=$(".bx_filter_parameters_box[data-tyreindex=dds]").data("property_id"),A=$(".bx_filter_parameters_box[data-tyreindex=alen]").data("property_id"),S=$(".bx_filter_parameters_box[data-tyreindex=awidth]").data("property_id"),E=$(".bx_filter_parameters_box[data-tyreindex=aheight]").data("property_id"),M=$(".bx_filter_parameters_box[data-tyreindex=atype]").data("property_id"),R=$(".bx_filter_parameters_box[data-tyreindex=apolarity]").data("property_id"),Y=$(".bx_filter_parameters_box[data-tyreindex=acapacity]").data("property_id"),N=$(".bx_filter_parameters_box[data-tyreindex=avolume]").data("property_id"),P=$(".bx_filter_parameters_box[data-tyreindex=dwidth]").data("property_id");$(document).on("change",'input[type="radio"].cars-list',function(){var e=v+"_"+g+"_"+$(this).attr("data-w"),t=v+"_"+k+"_"+$(this).attr("data-h"),a=v+"_"+T+"_"+$(this).attr("data-d"),r=v+"_"+P+"_"+$(this).attr("data-w"),i=v+"_"+w+"_"+$(this).attr("data-lz"),d=v+"_"+F+"_"+$(this).attr("data-pcd"),_=v+"_"+R+"_"+$(this).attr("data-apolarity"),l=v+"_"+M+"_"+$(this).attr("data-atype"),o=($(this).attr("data-dia"),v+"_"+I+"_"+$(this).attr("data-d")),p=[],n=[];if(g&&p.push({key:g,tyreindex:"twidth",id:e}),k&&p.push({key:k,tyreindex:"theight",id:t}),T&&p.push({key:T,tyreindex:"tdia",id:a}),I&&p.push({key:I,tyreindex:"ddia",id:o}),P&&p.push({key:P,tyreindex:"dwidth",id:r}),w&&p.push({key:w,tyreindex:"dco",id:i}),F&&p.push({key:F,tyreindex:"dmbr",id:d}),R&&p.push({key:R,tyreindex:"apolarity",id:_}),M&&p.push({key:M,tyreindex:"atype",id:l}),p)for(var x in p)$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] input").removeAttr("checked"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] input[id="+p[x].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] input[data-ti_id="+p[x].id+"]").prop("checked","checked").removeClass("disabled").removeAttr("disabled"),$(".bx_filter_select_popup").length&&($(".bx_filter_select_popup label[for="+p[x].id+"]").length?($("#smartFilterDropDown"+p[x].key).length&&$("#smartFilterDropDown"+p[x].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_select_popup label[for="+p[x].id+"]").addClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_select_popup label[for="+p[x].id+"]").text())):$("#smartFilterDropDown"+p[x].key).length?($("#smartFilterDropDown"+p[x].key+" label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_text").text($("#smartFilterDropDown"+p[x].key+" ul li:first label").text())):($(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_popup label").removeClass("selected"),$(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_text").text($(".bx_filter_parameters_box[data-tyreindex="+p[x].tyreindex+"] .bx_filter_select_popup ul li:first label").text())));if(D&&n.push({key:D,value:"data-dia",range0:obConfigTyreIndex.dia_range0,range1:obConfigTyreIndex.dia_range1}),C&&n.push({key:C,value:"data-et",range0:obConfigTyreIndex.et_range0,range1:obConfigTyreIndex.et_range1}),A&&n.push({key:A,value1:"data-alen_from",value2:"data-alen_to"}),S&&n.push({key:S,value1:"data-awidth_from",value2:"data-awidth_to"}),E&&n.push({key:E,value1:"data-aheight_from",value2:"data-aheight_to"}),Y&&n.push({key:Y,value1:"data-acapacity_from",value2:"data-acapacity_to"}),N&&n.push({key:N,value1:"data-avolume_from",value2:"data-avolume_to"}),n)for(var x in n){if("value1"in n[x]&&"value2"in n[x])var s=parseFloat($(this).attr(n[x].value1)),y=parseFloat($(this).attr(n[x].value2)),b=$(".bx_filter_parameters_box[data-property_id="+n[x].key+"]"),f=parseFloat(b.find(".min-price").attr("placeholder"))<=s?s:"",c=y<=parseFloat(b.find(".max-price").attr("placeholder"))?y:"";else{var m=parseFloat($(this).attr(n[x].value)),h=parseFloat(n[x].range0),u=parseFloat(n[x].range1);b=$(".bx_filter_parameters_box[data-property_id="+n[x].key+"]"),f=parseFloat(b.find(".min-price").attr("placeholder"))<=m-h?m-h:"",c=m+u<=parseFloat(b.find(".max-price").attr("placeholder"))?m+u:""}b.find(".min-price").length&&b.find(".min-price").val(f.toString().length?parseFloat(f.toFixed(1)):""),b.find(".max-price").length&&b.find(".max-price").val(c.toString().length?parseFloat(c.toFixed(1)):""),window["trackBar"+n[x].key],window["trackBar"+n[x].key].onInputChange()}"object"==typeof smartFilter&&smartFilter.reloadAllForm()})});