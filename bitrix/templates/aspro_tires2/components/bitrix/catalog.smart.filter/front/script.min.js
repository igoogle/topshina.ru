function JCSmartFilter(t,e,i){this.ajaxURL=t,this.form=null,this.timer=null,this.cacheKey="",this.cache=[],this.dblclick=!1,this.set_filter="",this.viewMode=e,this.showModef=!1,i&&i.SEF_SET_FILTER_URL&&(this.bindUrlToButton("set_filter",i.SEF_SET_FILTER_URL),this.sef=!0),i&&i.SEF_DEL_FILTER_URL&&this.bindUrlToButton("del_filter",i.SEF_DEL_FILTER_URL)}$(document).ready(function(){$(".front_filter_wrap .title_block").sliceHeight(),$(".bx_filter_title.title").click(function(t){$(this).siblings().removeClass("active"),$(this).toggleClass("active"),initSelects(document)}),setTimeout(function(){$(".front_filter_wrap").addClass("load")},100),$(document).on("click",".front_filter_wrap .title_block .dropdown .item",function(){var t=$(this),e=t.data("iblock_id"),i=t.closest(".front_filter_wrap").data("params"),r=t.closest(".front_filter_wrap").data("template"),s=t.data("type"),l=t.data("filter_url");t.hasClass("active")||($(".front_filter_wrap.tires").removeClass("load"),setTimeout(function(){$.ajax({url:arTires2Options.SITE_DIR+"ajax/main_tires.php",type:"POST",data:{IBLOCK_ID:e,TEMPLATE_PARAMS:i,TEMPLATE_NAME:r,FILTER_URL:l,TYPE:s},success:function(e){t.closest(".item_tires").html(e),setTimeout(function(){$(".front_filter_wrap.tires").addClass("load")},0)}})},300))}),$(document).on("click",".front_filter_wrap .title_block .link_item",function(){var t=$(this);if(!t.hasClass("active")){var e=t.data("filter");t.closest(".title_block").find(".link_item").removeClass("active"),t.closest(".title_block").find(".link_item[data-filter="+e+"]").addClass("active"),"params"==e?(t.closest(".front_filter_wrap").find(".bx_filter_parameters_box.tyresind").removeClass("active"),t.closest(".front_filter_wrap").find(".tyres_params").addClass("active"),t.closest(".front_filter_wrap").find("input[type=submit]").show(),t.closest(".front_filter_wrap").find(".all_hint").show()):"avto"==e&&(t.closest(".front_filter_wrap").find(".bx_filter_parameters_box.tyresind").addClass("active"),t.closest(".front_filter_wrap").find(".tyres_params").removeClass("active"),t.closest(".front_filter_wrap").find("input[type=submit]").hide(),t.closest(".front_filter_wrap").find(".all_hint").hide()),initSelects(document)}}),$(document).on("click",".bx_filter_search_reset_main",function(){var t=$(this).closest(".bx_filter").find(".bx_filter_select_block");t.each(function(){$(this).find("input").first();var t=$(this).closest(".bx_filter_parameters_box").data("property_id");$("#smartFilterDropDown"+t+" ul li").first().find("label").click(),$("#smartFilterDropDown"+t).hide()}),$(this).closest(".bx_filter").find("input[type=checkbox]").each(function(){var t=$(this);!0===t.prop("checked")&&t.find("+label").click()}),$(this).closest(".bx_filter").find(".ik_select").each(function(){var t=$(this).find("option").first().val();$(this).find("select").ikSelect("select",[t])}),$(this).closest(".front_filter_wrap.tires").length&&$(".block_all_results .tyres_result").html(""),$(this).closest(".front_filter_wrap.wheels").length&&$(".block_all_results .wheels_result").html(""),""==$(".block_all_results .tyres_result").html()&&""==$(".block_all_results .wheels_result").html()&&$("#filter_result").removeClass("showen"),$(".front_filter_wrap").each(function(){$(this).find(".filter_result").remove()})}),$(".hint .icon").click(function(t){t.stopPropagation();var e=$(this).parents(".hint"),i=e.is(".active");$(".bx_filter .hint.active").removeClass("active").find(".tooltip").slideUp(200),i||(e.addClass("active").find(".tooltip").slideDown(200),e.find(".tooltip_close").click(function(t){t.stopPropagation(),e.removeClass("active").find(".tooltip").slideUp(200)}))}),$(document).click(function(t){$(t.target).hasClass("tooltip")||$(".bx_filter .hint.active").removeClass("active").find(".tooltip").slideUp(200)})}),JCSmartFilter.prototype.keyup=function(t){this.timer&&clearTimeout(this.timer),$(t).hasClass("disabled")||(this.timer=setTimeout(BX.delegate(function(){this.reload(t)},this),500))},JCSmartFilter.prototype.click=function(t,e,i){this.timer&&clearTimeout(this.timer),this.dblclick=void 0!==e&&e,this.set_filter=i,this.dblclick&&(this.set_filter.disabled=!0),this.timer=setTimeout(BX.delegate(function(){this.reload(t,e)},this),500)},JCSmartFilter.prototype.reload=function(t,e){if(""!==this.cacheKey)return this.timer&&clearTimeout(this.timer),void(this.timer=setTimeout(BX.delegate(function(){this.reload(t,e)},this),1e3));this.cacheKey="|";var i=!1;if(i=$(t).closest(".bx_filter_select_container").length,this.position_input=0,this.label_input=$("label[data-role=label_"+$(t).attr("name").replace("all_","")+"]"),i&&(this.label_input=$(t).closest(".bx_filter_select_container")),this.label_input.length&&(this.position_input=this.label_input.offset().top-this.label_input.height()/2,this.label_input.hasClass("nab")&&(this.position_input+=7),i&&(this.position_input+=10)),this.position=BX.pos(t,!0),this.form=BX.findParent(t,{tag:"form"}),this.form){var r=[];r[0]={name:"ajax",value:"y"},this.gatherInputsValues(r,BX.findChildren(this.form,{tag:new RegExp("^(input|select)$","i")},!0));for(var s=0;s<r.length;s++)this.cacheKey+=r[s].name+":"+r[s].value+"|";if(this.cache[this.cacheKey])this.curFilterinput=t,this.postHandler(this.cache[this.cacheKey],!0);else{if(this.sef){var l=$("[name=set_filter]");l.disabled=!0}this.curFilterinput=t,BX.ajax.loadJSON(this.ajaxURL,this.values2post(r),BX.delegate(this.postHandler,this))}}},JCSmartFilter.prototype.reloadAllForm=function(){if(this.form=$("form.smartfilter")[0],this.form){var t=[];t[0]={name:"ajax",value:"y"},this.gatherInputsValues(t,BX.findChildren(this.form,{tag:new RegExp("^(input|select)$","i")},!0)),this.showModef=!1,BX.ajax.loadJSON(this.ajaxURL,this.values2post(t),BX.delegate(this.postHandler,this))}},JCSmartFilter.prototype.updateItem=function(t,e){if("N"===e.PROPERTY_TYPE||e.PRICE){var i=window["trackBar"+t];!i&&e.ENCODED_ID&&(i=window["trackBar"+e.ENCODED_ID]),i&&e.VALUES&&(e.VALUES.MIN&&(e.VALUES.MIN.FILTERED_VALUE?i.setMinFilteredValue(e.VALUES.MIN.FILTERED_VALUE):i.setMinFilteredValue(e.VALUES.MIN.VALUE)),e.VALUES.MAX&&(e.VALUES.MAX.FILTERED_VALUE?i.setMaxFilteredValue(e.VALUES.MAX.FILTERED_VALUE):i.setMaxFilteredValue(e.VALUES.MAX.VALUE)))}else if(e.VALUES)for(var r in e.VALUES)if(e.VALUES.hasOwnProperty(r)){var s=e.VALUES[r],l=BX(s.CONTROL_ID);if(l){var a=document.querySelector('[data-role="label_'+s.CONTROL_ID+'"]');if(input=document.querySelector('[id="'+s.CONTROL_ID+'"]'),s.DISABLED){var n=$(a).attr("for");a&&-1===n.indexOf("all_")?(BX.addClass(a,"disabled"),input&&(input.setAttribute("disabled","disabled"),BX.addClass(input,"disabled")),$(a).closest(".bx_filter_select_popup").length&&$(a).parent().hide()):-1===n.indexOf("all_")&&BX.addClass(l.parentNode,"disabled")}else a?(BX.removeClass(a,"disabled"),$(a).closest(".bx_filter_select_popup").length&&$(a).parent().show(),input&&(input.removeAttribute("disabled"),BX.removeClass(input,"disabled"))):BX.removeClass(l.parentNode,"disabled");s.hasOwnProperty("ELEMENT_COUNT")&&(a=document.querySelector('[data-role="count_'+s.CONTROL_ID+'"]'),a&&(a.innerHTML=s.ELEMENT_COUNT))}}},JCSmartFilter.prototype.postHandler=function(t,e){var i,r,s=$("[data-id=modef]"),l=BX("modef_mobile"),a=$("[data-id=modef_num]");BX("modef_num_mobile");if(t&&t.ITEMS){for(var n in t.ITEMS)t.ITEMS.hasOwnProperty(n)&&this.updateItem(n,t.ITEMS[n]);if(s&&a)if(this.position_input?$("#modef").css({top:this.position_input-$(".smartfilter").offset().top}):$("#modef").css({top:"auto"}),i=BX.findChildren(s,{tag:"A"},!0),hrefFILTER_mobile=BX.findChildren(l,{tag:"A"},!0),t.FILTER_URL&&i&&(i[0].href=BX.util.htmlspecialcharsback(t.FILTER_URL.replace("/filter/clear/apply/","/")),i[0].href=BX.util.htmlspecialcharsback(t.FILTER_URL.replace("/filter/clear/","/")),i[0].href=BX.util.htmlspecialcharsback(t.FILTER_URL.replace("/search/clear/","/")),i[0].href=BX.util.htmlspecialcharsback(t.FILTER_URL.replace("/search/clear/apply","/")),hrefFILTER_mobile[0].href=BX.util.htmlspecialcharsback(t.FILTER_URL.replace("/filter/clear/apply/","/"))),t.FILTER_AJAX_URL&&t.COMPONENT_CONTAINER_ID&&(BX.unbindAll(i[0]),BX.unbindAll(hrefFILTER_mobile[0]),BX.bind(i[0],"click",function(e){return r=BX.util.htmlspecialcharsback(t.FILTER_AJAX_URL),BX.ajax.insertToNode(r,t.COMPONENT_CONTAINER_ID),BX.PreventDefault(e)})),t.INSTANT_RELOAD&&t.COMPONENT_CONTAINER_ID)r=BX.util.htmlspecialcharsback(t.FILTER_AJAX_URL),BX.ajax.insertToNode(r,t.COMPONENT_CONTAINER_ID);else if("vertical"==this.viewMode&&this.showModef&&BX.findChild(BX.findParent(this.curFilterinput,{class:"bx_filter_parameters_box"}),{class:"bx_filter_container_modef"},!0,!1),t.SEF_SET_FILTER_URL&&(this.bindUrlToButton("name=[set_filter]",t.SEF_SET_FILTER_URL),this.dblclick)){var o="";o=BX.util.htmlspecialcharsback(t.SEF_SET_FILTER_URL.replace("/filter/clear/apply/","/")),o=BX.util.htmlspecialcharsback(t.SEF_SET_FILTER_URL.replace("/filter/clear/","/")),o=BX.util.htmlspecialcharsback(t.SEF_SET_FILTER_URL.replace("search/clear/apply","search")),o=BX.util.htmlspecialcharsback(t.SEF_SET_FILTER_URL.replace("search/clear","search")),this.set_filter.disabled=!1,window.location.href=o+setPodborDataInUrl(this.form)}}if(this.sef){var c=BX("set_filter");c.disabled=!1}e||""===this.cacheKey||(this.cache[this.cacheKey]=t),this.cacheKey=""},JCSmartFilter.prototype.bindUrlToButton=function(t,e){var i=BX(t);if(i){var r=function(t,e){return function(){return e(t)}};"submit"==i.type&&(i.type="button"),BX.bind(i,"click",r(e,function(t){return window.location.href=t,!1}))}},JCSmartFilter.prototype.gatherInputsValues=function(t,e){if(e)for(var i=0;i<e.length;i++){var r=e[i];if(!r.disabled&&r.type)switch(r.type.toLowerCase()){case"text":case"textarea":case"password":case"hidden":case"select-one":r.value.length&&(t[t.length]={name:r.name,value:r.value});break;case"radio":case"checkbox":(r.checked||$(r).prop("checked"))&&(t[t.length]={name:r.name,value:r.value});break;case"select-multiple":for(var s=0;s<r.options.length;s++)r.options[s].selected&&(t[t.length]={name:r.name,value:r.options[s].value})}}},JCSmartFilter.prototype.values2post=function(t){for(var e=[],i=e,r=0;r<t.length;){var s=t[r].name.indexOf("[");if(-1==s)i[t[r].name]=t[r].value,i=e,r++;else{var l=t[r].name.substring(0,s),a=t[r].name.substring(s+1);i[l]||(i[l]=[]);var n=a.indexOf("]");-1==n?(i=e,r++):0==n?(i=i[l],t[r].name=""+i.length):(i=i[l],t[r].name=a.substring(0,n)+a.substring(n+1))}}return e},JCSmartFilter.prototype.hideFilterProps=function(t){var e=t.parentNode,i=e.querySelector("[data-role='bx_filter_block']"),r=e.querySelector("[data-role='prop_angle']");if(BX.hasClass(e,"bx-active"))new BX.easing({duration:300,start:{opacity:1,height:i.offsetHeight},finish:{opacity:0,height:0},transition:BX.easing.transitions.quart,step:function(t){i.style.opacity=t.opacity,i.style.height=t.height+"px"},complete:function(){i.setAttribute("style",""),BX.removeClass(e,"bx-active")}}).animate(),BX.addClass(r,"fa-angle-down"),BX.removeClass(r,"fa-angle-up");else{i.style.display="block",i.style.opacity=0,i.style.height="auto";var s=i.offsetHeight;i.style.height=0,new BX.easing({duration:300,start:{opacity:0,height:0},finish:{opacity:1,height:s},transition:BX.easing.transitions.quart,step:function(t){i.style.opacity=t.opacity,i.style.height=t.height+"px"},complete:function(){}}).animate(),BX.addClass(e,"bx-active"),BX.removeClass(r,"fa-angle-down"),BX.addClass(r,"fa-angle-up")}},JCSmartFilter.prototype.showDropDownPopup=function(t,e){var i=t.querySelector('[data-role="dropdownContent"]'),r=$(t).offset();BX.PopupWindowManager.create("smartFilterDropDown"+e,t,{autoHide:!0,offsetLeft:0,offsetTop:0,overlay:!1,draggable:{restrict:!0},closeByEsc:!0,content:i}).show(),$("#smartFilterDropDown"+e).css({top:r.top+30,left:r.left})},JCSmartFilter.prototype.selectDropDownItem=function(t,e){if(!BX.hasClass(t,"disabled")){this.keyup(BX(e));var i=BX.findParent(BX(e),{className:"bx_filter_select_container"},!1),r=i.querySelector('[data-role="currentOption"]');r.innerHTML=t.innerHTML,$(t).closest(".bx_filter_select_popup").find("label").removeClass("selected"),BX.addClass(t,"selected"),$(".popup-window").is(":visible")&&BX.PopupWindowManager.getCurrentPopup().close()}},BX.namespace("BX.Iblock.SmartFilter"),BX.Iblock.SmartFilter=function(){var t=function(t){"object"==typeof t&&(this.leftSlider=BX(t.leftSlider),this.rightSlider=BX(t.rightSlider),this.tracker=BX(t.tracker),this.trackerWrap=BX(t.trackerWrap),this.minInput=BX(t.minInputId),this.maxInput=BX(t.maxInputId),this.minPrice=parseFloat(t.minPrice),this.maxPrice=parseFloat(t.maxPrice),this.curMinPrice=parseFloat(t.curMinPrice),this.curMaxPrice=parseFloat(t.curMaxPrice),this.fltMinPrice=t.fltMinPrice?parseFloat(t.fltMinPrice):parseFloat(t.curMinPrice),this.fltMaxPrice=t.fltMaxPrice?parseFloat(t.fltMaxPrice):parseFloat(t.curMaxPrice),this.precision=t.precision||0,this.priceDiff=this.maxPrice-this.minPrice,this.leftPercent=t.leftPercent?parseFloat(t.leftPercent):0,this.rightPercent=t.rightPercent?parseFloat(t.rightPercent):0,this.fltMinPercent=0,this.fltMaxPercent=0,this.colorUnavailableActive=BX(t.colorUnavailableActive),this.colorAvailableActive=BX(t.colorAvailableActive),this.colorAvailableInactive=BX(t.colorAvailableInactive),this.isTouch=!1,this.init(),"ontouchstart"in document.documentElement||"ontouchstart"in window?(this.isTouch=!0,BX.bind(this.leftSlider,"touchstart",BX.proxy(function(t){this.onMoveLeftSlider(t)},this)),BX.bind(this.rightSlider,"touchstart",BX.proxy(function(t){this.onMoveRightSlider(t)},this)),BX.bind(this.colorAvailableActive,"touchstart",BX.proxy(function(t){this.onChangeLeftSlider(t)},this)),BX.bind(this.colorUnavailableActive,"touchstart",BX.proxy(function(t){this.onChangeLeftSlider(t)},this)),BX.bind(this.colorAvailableInactive,"touchstart",BX.proxy(function(t){this.onChangeLeftSlider(t)},this))):(BX.bind(this.leftSlider,"mousedown",BX.proxy(function(t){this.onMoveLeftSlider(t)},this)),BX.bind(this.rightSlider,"mousedown",BX.proxy(function(t){this.onMoveRightSlider(t)},this)),BX.bind(this.colorAvailableActive,"mousedown",BX.proxy(function(t){this.onChangeLeftSlider(t)},this)),BX.bind(this.colorUnavailableActive,"mousedown",BX.proxy(function(t){this.onChangeLeftSlider(t)},this)),BX.bind(this.colorAvailableInactive,"mousedown",BX.proxy(function(t){this.onChangeLeftSlider(t)},this))),BX.bind(this.minInput,"keyup",BX.proxy(function(t){this.onInputChange()},this)),BX.bind(this.maxInput,"keyup",BX.proxy(function(t){this.onInputChange()},this)))};return t.prototype.init=function(){var t;this.curMinPrice>this.minPrice&&(t=this.curMinPrice-this.minPrice,this.leftPercent=100*t/this.priceDiff,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),this.setMinFilteredValue(this.fltMinPrice),this.curMaxPrice<this.maxPrice&&(t=this.maxPrice-this.curMaxPrice,this.rightPercent=100*t/this.priceDiff,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.setMaxFilteredValue(this.fltMaxPrice)},t.prototype.setMinFilteredValue=function(t){if(this.fltMinPrice=parseFloat(t),this.fltMinPrice>=this.minPrice){var e=this.fltMinPrice-this.minPrice;this.fltMinPercent=100*e/this.priceDiff,this.leftPercent>this.fltMinPercent?this.colorAvailableActive.style.left=this.leftPercent+"%":this.colorAvailableActive.style.left=this.fltMinPercent+"%",this.colorAvailableInactive.style.left=this.fltMinPercent+"%"}else this.colorAvailableActive.style.left="0%",this.colorAvailableInactive.style.left="0%"},t.prototype.setMaxFilteredValue=function(t){if(this.fltMaxPrice=parseFloat(t),this.fltMaxPrice<=this.maxPrice){var e=this.maxPrice-this.fltMaxPrice;this.fltMaxPercent=100*e/this.priceDiff,this.rightPercent>this.fltMaxPercent?this.colorAvailableActive.style.right=this.rightPercent+"%":this.colorAvailableActive.style.right=this.fltMaxPercent+"%",this.colorAvailableInactive.style.right=this.fltMaxPercent+"%"}else this.colorAvailableActive.style.right="0%",this.colorAvailableInactive.style.right="0%"},t.prototype.getXCoord=function(t){var e=t.getBoundingClientRect(),i=document.body,r=document.documentElement,s=window.pageXOffset||r.scrollLeft||i.scrollLeft,l=r.clientLeft||i.clientLeft||0,a=e.left+s-l;return Math.round(a)},t.prototype.getPageX=function(t){t=t||window.event;var e=null;if(this.isTouch&&null!=t.targetTouches[0])e=t.targetTouches[0].pageX;else if(null!=t.pageX)e=t.pageX;else if(null!=t.clientX){var i=document.documentElement,r=document.body;e=t.clientX+(i.scrollLeft||r&&r.scrollLeft||0),e-=i.clientLeft||0}return e},t.prototype.recountMinPrice=function(){var t=this.priceDiff*this.leftPercent/100;t=(this.minPrice+t).toFixed(this.precision),t!=this.minPrice?this.minInput.value=t:this.minInput.value="",smartFilter.keyup(this.minInput)},t.prototype.recountMaxPrice=function(){var t=this.priceDiff*this.rightPercent/100;t=(this.maxPrice-t).toFixed(this.precision),t!=this.maxPrice?this.maxInput.value=t:this.maxInput.value="",smartFilter.keyup(this.maxInput)},t.prototype.onInputChange=function(){var t;if(this.minInput.value){var e=this.minInput.value;e<this.minPrice&&(e=this.minPrice),e>this.maxPrice&&(e=this.maxPrice),t=e-this.minPrice,this.leftPercent=100*t/this.priceDiff,this.makeLeftSliderMove(!1)}if(this.maxInput.value){var i=this.maxInput.value;i<this.minPrice&&(i=this.minPrice),i>this.maxPrice&&(i=this.maxPrice),t=this.maxPrice-i,this.rightPercent=100*t/this.priceDiff,this.makeRightSliderMove(!1)}},t.prototype.makeLeftSliderMove=function(t){t=!1!==t,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%";var e=!1;this.leftPercent+this.rightPercent>=100&&(e=!0,this.rightPercent=100-this.leftPercent,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%"),this.leftPercent>=this.fltMinPercent&&this.leftPercent<=100-this.fltMaxPercent?(this.colorAvailableActive.style.left=this.leftPercent+"%",e&&(this.colorAvailableActive.style.right=100-this.leftPercent+"%")):this.leftPercent<=this.fltMinPercent?(this.colorAvailableActive.style.left=this.fltMinPercent+"%",e&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%")):this.leftPercent>=this.fltMaxPercent&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%",e&&(this.colorAvailableActive.style.right=this.fltMaxPercent+"%")),t&&(this.recountMinPrice(),e&&this.recountMaxPrice())},t.prototype.countNewLeft=function(t){var e=this.getPageX(t),i=this.getXCoord(this.trackerWrap),r=this.trackerWrap.offsetWidth,s=e-i;return s<0?s=0:s>r&&(s=r),s},t.prototype.onMoveLeftSlider=function(t){if(this.isTouch||(this.leftSlider.ondragstart=function(){return!1}),this.isTouch){var e=BX.proxy(function(t){this.leftPercent=100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()},this),i=BX.proxy(function(t){window.removeEventListener("touchmove",e,!1),window.removeEventListener("touchend",i,!1),e=i=null},this);window.addEventListener("touchmove",e,!1),window.addEventListener("touchend",i,!1)}else document.onmousemove=BX.proxy(function(t){this.leftPercent=100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeLeftSliderMove()},this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null};return!1},t.prototype.makeRightSliderMove=function(t){t=!1!==t,this.rightSlider.style.right=this.rightPercent+"%",this.colorUnavailableActive.style.right=this.rightPercent+"%";var e=!1;this.leftPercent+this.rightPercent>=100&&(e=!0,this.leftPercent=100-this.rightPercent,this.leftSlider.style.left=this.leftPercent+"%",this.colorUnavailableActive.style.left=this.leftPercent+"%"),100-this.rightPercent>=this.fltMinPercent&&this.rightPercent>=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.rightPercent+"%",e&&(this.colorAvailableActive.style.left=100-this.rightPercent+"%")):this.rightPercent<=this.fltMaxPercent?(this.colorAvailableActive.style.right=this.fltMaxPercent+"%",e&&(this.colorAvailableActive.style.left=100-this.fltMaxPercent+"%")):100-this.rightPercent<=this.fltMinPercent&&(this.colorAvailableActive.style.right=100-this.fltMinPercent+"%",e&&(this.colorAvailableActive.style.left=this.fltMinPercent+"%")),t&&(this.recountMaxPrice(),e&&this.recountMinPrice())},t.prototype.onMoveRightSlider=function(t){if(this.isTouch||(this.rightSlider.ondragstart=function(){return!1}),this.isTouch){var e=BX.proxy(function(t){this.rightPercent=100-100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()},this),i=BX.proxy(function(t){window.removeEventListener("touchmove",e,!1),window.removeEventListener("touchend",i,!1),e=i=null},this);window.addEventListener("touchmove",e,!1),window.addEventListener("touchend",i,!1)}else document.onmousemove=BX.proxy(function(t){this.rightPercent=100-100*this.countNewLeft(t)/this.trackerWrap.offsetWidth,this.makeRightSliderMove()},this),document.onmouseup=function(){document.onmousemove=document.onmouseup=null};return!1},t.prototype.onChangeLeftSlider=function(t){if(this.isTouch||(this.leftSlider.ondragstart=function(){}),this.isTouch){e=100*this.countNewLeft(t)/this.trackerWrap.offsetWidth;if($(t.target).is(".bx_ui_slider_handle"))return;e<50?(this.leftPercent=e,this.makeLeftSliderMove()):(this.rightPercent=100-e,this.makeRightSliderMove())}else{var e=100*this.countNewLeft(event)/this.trackerWrap.offsetWidth;if($(event.target).is(".bx_ui_slider_handle")||!$(event.target).is("[class^=bx_ui_slider]"))return;e<50?(this.leftPercent=e+1,this.makeLeftSliderMove()):(this.rightPercent=100-e,this.makeRightSliderMove()),document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}return!1},t}();